#!/usr/bin/perl
# A simple tool to prune the output of cvslog for the free version.
# (c) 2005 Robert Spalek <robert@ucw.cz>

@lines = ();
$print = 1;
$" = "";
while (<>)
{
  if (/^###/)
  {
    $print and print "@lines";
    @lines = ();
    $print = 1;
  }
  elsif	(/^\s*\* (|.*\/)(shepherd|reapd|mux|msword|excel|centrum)\//)
  {
    $print = 0;
  }
  $lines[$#lines+1] = $_;
}
$print and print "@lines";
